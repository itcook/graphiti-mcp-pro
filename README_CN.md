# Graphiti MCP Pro

[English](README.md) | **ä¸­æ–‡**

> **å…³äº Graphiti**
> Graphiti æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºå’ŒæŸ¥è¯¢å…·æœ‰æ—¶é—´æ„ŸçŸ¥çš„çŸ¥è¯†å›¾è°±çš„æ¡†æ¶ï¼Œä¸“é—¨é’ˆå¯¹åœ¨åŠ¨æ€ç¯å¢ƒä¸­è¿è¡Œçš„ AI ä»£ç†ã€‚ä¸ä¼ ç»Ÿçš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æ–¹æ³•ä¸åŒï¼ŒGraphiti æŒç»­åœ°å°†ç”¨æˆ·äº¤äº’ã€ç»“æ„åŒ–å’Œéç»“æ„åŒ–ä¼ä¸šæ•°æ®ä»¥åŠå¤–éƒ¨ä¿¡æ¯æ•´åˆåˆ°ä¸€ä¸ªè¿è´¯ã€å¯æŸ¥è¯¢çš„å›¾è°±ä¸­ã€‚è¯¥æ¡†æ¶æ”¯æŒå¢é‡æ•°æ®æ›´æ–°ã€é«˜æ•ˆæ£€ç´¢å’Œç²¾ç¡®çš„å†å²æŸ¥è¯¢ï¼Œæ— éœ€é‡æ–°è®¡ç®—æ•´ä¸ªå›¾è°±ï¼Œä½¿å…¶é€‚ç”¨äºå¼€å‘äº¤äº’å¼ã€æƒ…å¢ƒæ„ŸçŸ¥çš„ AI åº”ç”¨ã€‚

æœ¬é¡¹ç›®æ˜¯åŸºäº [Graphiti](https://github.com/getzep/graphiti) å®ç°çš„å¢å¼ºç‰ˆè®°å¿†åº“ MCP æœåŠ¡åŠç®¡ç†ç«¯ï¼Œç›¸æ¯”åŸé¡¹ç›®çš„ [MCP æœåŠ¡](https://github.com/getzep/graphiti/tree/main/mcp_server)ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼šå¢å¼ºçš„æ ¸å¿ƒèƒ½åŠ›ã€æ›´å¹¿æ³›çš„ AI æ¨¡å‹å…¼å®¹æ€§ã€å®Œå¤‡çš„å¯è§†åŒ–ç®¡ç†ç•Œé¢ã€‚

## ç‰¹æ€§

### å¢å¼ºçš„æ ¸å¿ƒèƒ½åŠ›

#### å¼‚æ­¥å¹¶è¡Œå¤„ç†

æ·»åŠ è®°å¿†æ˜¯ MCP æœåŠ¡çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæˆ‘ä»¬åœ¨åŸå®ç°åŸºç¡€ä¸Šå¼•å…¥äº†å¼‚æ­¥å¹¶è¡Œå¤„ç†æœºåˆ¶ã€‚åŒä¸€ä¸ª group idï¼ˆå¦‚ä¸åŒçš„å¼€å‘é¡¹ç›®ï¼‰å¯å¹¶è¡Œæ‰§è¡Œæœ€å¤š 5 ä¸ªæ·»åŠ è®°å¿†ä»»åŠ¡ï¼Œæ˜¾è‘—æå‡å¤„ç†æ•ˆç‡ã€‚

#### ä»»åŠ¡ç®¡ç†å·¥å…·

æ–°å¢å››ä¸ª MCP å·¥å…·ç”¨äºç®¡ç†æ·»åŠ è®°å¿†ä»»åŠ¡ï¼š

- `list_add_memory_tasks` - åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
- `get_add_memory_task_status` - è·å–ä»»åŠ¡çŠ¶æ€
- `wait_for_add_memory_task` - ç­‰å¾…ä»»åŠ¡å®Œæˆ
- `cancel_add_memory_task` - å–æ¶ˆä»»åŠ¡

#### ç»Ÿä¸€é…ç½®ç®¡ç†

ä¼˜åŒ–äº†é…ç½®é¡¹ç®¡ç†ï¼Œè§£å†³äº†å‘½ä»¤è¡Œå‚æ•°ã€ç¯å¢ƒå˜é‡åŠç®¡ç†åç«¯æ•°æ®åº“é…ç½®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚

> [!NOTE]
> å¯ç”¨ç®¡ç†åç«¯æ—¶ï¼Œ.env ç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­çš„ MCP æœåŠ¡å‚æ•°ä»…åœ¨åˆæ¬¡å¯åŠ¨æ—¶ç”Ÿæ•ˆï¼Œåç»­é…ç½®å°†ä»¥ç®¡ç†åç«¯æ•°æ®åº“ä¸­çš„å‚æ•°ä¸ºå‡†ã€‚

### æ›´å¹¿çš„ AI æ¨¡å‹å…¼å®¹æ€§å’Œçµæ´»æ€§

#### å¢å¼ºæ¨¡å‹å…¼å®¹æ€§

é€šè¿‡é›†æˆ [instructor](https://github.com/567-labs/instructor) åº“ï¼Œæ˜¾è‘—æ”¹å–„äº†æ¨¡å‹å…¼å®¹æ€§ã€‚ç°åœ¨æ”¯æŒ DeepSeekã€Qwen ç­‰å¤šç§æ¨¡å‹ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨é€šè¿‡ Ollamaã€vLLM æœ¬åœ°è¿è¡Œçš„æ¨¡å‹ï¼Œåªè¦å®ƒä»¬æä¾› OpenAI API å…¼å®¹æ¥å£ã€‚

#### åˆ†ç¦»å¼æ¨¡å‹é…ç½®

å°†åŸæ¥çš„ç»Ÿä¸€ LLM é…ç½®æ‹†åˆ†ä¸ºä¸‰ä¸ªç‹¬ç«‹é…ç½®ï¼Œå¯æ ¹æ®å®é™…éœ€æ±‚çµæ´»æ­é…ï¼š

- **å¤§æ¨¡å‹ (LLM)**ï¼šè´Ÿè´£å®ä½“å’Œå…³ç³»æå–
- **å°æ¨¡å‹ (Small LLM)**ï¼šå¤„ç†å®ä½“å±æ€§å½’çº³ã€å…³ç³»å»é‡ã€é‡æ’åºç­‰è½»é‡ä»»åŠ¡
- **åµŒå…¥æ¨¡å‹ (Embedder)**ï¼šä¸“é—¨è´Ÿè´£æ–‡æœ¬å‘é‡åŒ–

> [!NOTE]
> é…ç½® embedding æ¨¡å‹æ—¶éœ€è¦æ³¨æ„ï¼Œå…¶è°ƒç”¨çš„è·¯å¾„å’Œä¸Šé¢ä¸¤ä¸ª LLM æ˜¯ä¸ä¸€æ ·çš„ï¼ŒLLM è°ƒç”¨çš„è·¯å¾„æ˜¯å¯¹è¯è¡¥å…¨çš„è·¯å¾„ï¼Œå³ `{base_url}/chat/completions`ï¼Œè€Œæ–‡æœ¬åµŒå…¥çš„è·¯å¾„è°ƒç”¨çš„æ˜¯ `{base_url}/embeddings`ï¼Œå¦‚æœä½ é€šè¿‡ç®¡ç†åå°é…ç½®æ—¶é€‰æ‹©äº†ã€Œä¸å¤§æ¨¡å‹ç›¸åŒã€ï¼Œè¯·ç¡®ä¿ä½ é…ç½®çš„å¤§æ¨¡å‹æ”¯æŒæ–‡æœ¬åµŒå…¥
>
> å¦å¤–ï¼Œå¦‚æœä½ é€šè¿‡ docker compose æ–¹å¼è¿è¡ŒæœåŠ¡ï¼Œè€Œ embedding æ¨¡å‹æ˜¯é€šè¿‡æœ¬åœ°è¿è¡Œçš„ï¼Œé‚£ä¹ˆ embedding çš„ base_url éœ€è¦é…ç½®ä¸º `http://host.docker.internal:{port}`ï¼Œå…¶ä¸­çš„ç«¯å£éœ€è¦æ ¹æ®ä½ æœ¬åœ°è¿è¡Œçš„ç«¯å£è¿›è¡Œè°ƒæ•´

### å®Œå¤‡çš„ç®¡ç†ç«¯

ä¸ºäº†æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒå’Œå¯è§‚æµ‹æ€§ï¼Œæˆ‘ä»¬å¼€å‘äº†å®Œæ•´çš„ç®¡ç†åç«¯å’Œ Web UIã€‚é€šè¿‡ç®¡ç†ç•Œé¢ï¼Œä½ å¯ä»¥ï¼š

- **æœåŠ¡æ§åˆ¶**ï¼šå¯åŠ¨ã€åœæ­¢ã€é‡å¯ MCP æœåŠ¡
- **é…ç½®ç®¡ç†**ï¼šå®æ—¶æ›´æ–°å’Œè°ƒæ•´é…ç½®å‚æ•°
- **ç”¨é‡ç›‘æ§**ï¼šæŸ¥çœ‹è¯¦ç»†çš„ token ä½¿ç”¨ç»Ÿè®¡
- **æ—¥å¿—æŸ¥çœ‹**ï¼šå®æ—¶æ—¥å¿—å’Œå†å²æ—¥å¿—æŸ¥è¯¢

## è¿è¡Œ

### Docker Compose æ–¹å¼ (æ¨è)

> [!CAUTION]
> å›½å†…ç”¨æˆ·éœ€è¦ç¡®ä¿ç½‘ç»œç•…é€šï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå¯æ­£å¸¸è®¿é—® docker hub, pypi, npmjs ç­‰ç«™ç‚¹

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone http://github.com/ueworks/graphiti-mcp-pro
   cd graphiti-mcp-pro
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**ï¼ˆå¯é€‰ï¼‰

   ```bash
   # å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶
   mv .env.example.cn .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ ¹æ®è¯´æ˜é…ç½®å‚æ•°
   ```

3. **å¯åŠ¨æœåŠ¡**

   ```bash
   docker compose up -d
   ```

   > [!TIP]
   > å¦‚æœé¡¹ç›®æœ‰æ›´æ–°ï¼Œéœ€è¦é‡æ–°æ„å»ºé•œåƒï¼Œè¯·ä½¿ç”¨ `docker compose up -d --build` å‘½ä»¤ã€‚
   > è¯·æ”¾å¿ƒï¼Œæ•°æ®ä¼šæŒä¹…ä¿å­˜åœ¨å®¹å™¨å¤–çš„æ•°æ®åº“ä¸­ï¼Œä¸ä¼šä¸¢å¤±ã€‚

4. **è®¿é—®ç®¡ç†ç•Œé¢**
   é»˜è®¤åœ°å€ï¼šhttp://localhost:6062

### æ‰‹åŠ¨è¿è¡Œ

> [!NOTE]
> å…ˆå†³æ¡ä»¶ï¼š
>
> 1. Python 3.10+ åŠ uv ç®¡ç†å·¥å…·
> 2. Node.js 20+
> 3. å¯è®¿é—®çš„ Neo4j 5.26 æ•°æ®åº“æœåŠ¡
> 4. AI æ¨¡å‹æœåŠ¡

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone http://github.com/ueworks/graphiti-mcp-pro
   cd graphiti-mcp-pro
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   uv sync
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**

   ```bash
   # å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶
   mv .env.example.cn .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ ¹æ®è¯´æ˜é…ç½®å‚æ•°
   ```

4. **è¿è¡Œ MCP æœåŠ¡**

   ```bash
   # è¿è¡Œå¸¦ç®¡ç†åç«¯çš„æœåŠ¡
   uv run main.py -m
   # æˆ–ä»…è¿è¡Œ MCP æœåŠ¡
   # uv run main.py
   ```

5. **ç¼–è¯‘ä¸è¿è¡Œç®¡ç†å‰ç«¯**

   è¿›å…¥å‰ç«¯ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š

   ```bash
   cd manager/frontend
   pnpm install  # æˆ– npm install / yarn
   ```

   ç¼–è¯‘å¹¶è¿è¡Œå‰ç«¯ï¼š

   ```bash
   pnpm run build   # æˆ– npm run build / yarn build
   pnpm run preview # æˆ– npm run preview / yarn preview
   ```

   è®¿é—®ç®¡ç†ç•Œé¢ï¼šhttp://localhost:6062

## æ³¨æ„äº‹é¡¹

### å·²çŸ¥é™åˆ¶

- **ğŸ”’ å®‰å…¨æé†’**ï¼šç®¡ç†åç«¯æœªå®ç°æˆæƒè®¿é—®æœºåˆ¶ï¼Œè¯·å‹¿åœ¨å…¬å…±æœåŠ¡å™¨ä¸Šæš´éœ²æœåŠ¡
- **ğŸ§ª æµ‹è¯•è¦†ç›–**ï¼šå—èµ„æºé™åˆ¶ï¼Œé¡¹ç›®æœªè¿›è¡Œå……åˆ†æµ‹è¯•ï¼Œä»…å»ºè®®ä¸ªäººä½¿ç”¨
- **ğŸ“¡ ä¼ è¾“åè®®**ï¼šä»…æ”¯æŒ streamable-http ä¼ è¾“åè®®ï¼Œç§»é™¤äº†åŸé¡¹ç›®çš„ stdio å’Œ sse æ”¯æŒ
- **âš™ï¸ ä»£ç ä¼˜åŒ–**ï¼šéƒ¨åˆ†æ¶æ„è®¾è®¡ï¼ˆä¾èµ–æ³¨å…¥ã€å¼‚å¸¸å¤„ç†ã€å®¢æˆ·ç«¯è§£è€¦ç­‰ï¼‰ä»æœ‰ä¼˜åŒ–ç©ºé—´

### ä½¿ç”¨å»ºè®®

- **é…ç½®è¯´æ˜**ï¼šè¯·ä»”ç»†é˜…è¯»è¿è¡Œè¯´æ˜å’Œ `.env.example.cn` ä¸­çš„æ³¨é‡Šå†…å®¹
- **æ¨¡å‹é€‰æ‹©**ï¼šå¦‚ä½¿ç”¨ GPT/Gemini/Claude ç­‰åŸç”Ÿæ”¯æŒçš„æ¨¡å‹ä¸”ä¸éœ€è¦è¯¦ç»†è¿è¡Œä¿¡æ¯ï¼Œå»ºè®®ä½¿ç”¨åŸç‰ˆ [Graphiti MCP](https://github.com/getzep/graphiti/tree/main/mcp_server)
- **é—®é¢˜åé¦ˆ**ï¼šé‡åˆ°ä½¿ç”¨é—®é¢˜æ¬¢è¿æäº¤ Issue æˆ– Pull Request

---

ç”± ğŸ¤– [Augment Code](https://augmentcode.com) ååŠ©å¼€å‘
